# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å amoCRM

## üìã –û–±–∑–æ—Ä

–î–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏–¥–æ–≤ –≤ amoCRM, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∏ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —á–µ—Ä–µ–∑ webhooks.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —Å amoCRM
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤** –∏ —Å–¥–µ–ª–æ–∫
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤** –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏
- ‚úÖ **Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ **UTM –º–µ—Ç–∫–∏** –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ **–¢–µ–≥–∏ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è**
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –≤ –ë–î

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- PostgreSQL
- FastAPI
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### amoCRM —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ê–∫–∫–∞—É–Ω—Ç amoCRM —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –î–æ—Å—Ç—É–ø –∫ API amoCRM
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è (—Å–º. –Ω–∏–∂–µ)

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ amoCRM

1. **–í–æ–π–¥–∏—Ç–µ –≤ amoCRM** –ø–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Üí **–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**
3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:**
   ```
   –ù–∞–∑–≤–∞–Ω–∏–µ: Asia Deals CRM Integration
   –û–ø–∏—Å–∞–Ω–∏–µ: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–¥–∞–∂ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
   –¢–∏–ø: –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   Redirect URI: http://localhost:8000/api/auth/amo/callback
   ```
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –∏ –ø–æ–ª—É—á–∏—Ç–µ:
   - Client ID
   - Client Secret

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth2 –ø—Ä–∞–≤

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "OAuth2" –∏ –≤–∫–ª—é—á–∏—Ç–µ:

- ‚úÖ **–ö–æ–Ω—Ç–∞–∫—Ç—ã** (—á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å)
- ‚úÖ **–°–¥–µ–ª–∫–∏** (—á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å)
- ‚úÖ **–ö–æ–º–ø–∞–Ω–∏–∏** (—á—Ç–µ–Ω–∏–µ)
- ‚úÖ **–í–æ—Ä–æ–Ω–∫–∏** (—á—Ç–µ–Ω–∏–µ)

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π

#### –î–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤:
| –ü–æ–ª–µ | ID | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------|----|-----|-------------|
| –¢–µ–ª–µ—Ñ–æ–Ω | 123456 | –¢–µ–ª–µ—Ñ–æ–Ω | ‚úÖ |
| Email | 123457 | Email | ‚ùå |

#### –î–ª—è —Å–¥–µ–ª–æ–∫:
| –ü–æ–ª–µ | ID | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------|----|-----|-------------|
| UTM Source | 123458 | –¢–µ–∫—Å—Ç | ‚ùå |
| UTM Medium | 123459 | –¢–µ–∫—Å—Ç | ‚ùå |
| UTM Campaign | 123460 | –¢–µ–∫—Å—Ç | ‚ùå |
| UTM Content | 123461 | –¢–µ–∫—Å—Ç | ‚ùå |
| UTM Term | 123462 | –¢–µ–∫—Å—Ç | ‚ùå |
| –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–∞ | 123463 | –ß–∏—Å–ª–æ | ‚ùå |
| –ö–æ–º–∏—Å—Å–∏—è | 123464 | –ß–∏—Å–ª–æ | ‚ùå |
| –û–±—ä–µ–∫—Ç | 123466 | –°–ø–∏—Å–æ–∫ | ‚ùå |
| –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã | 123467 | –°–ø–∏—Å–æ–∫ | ‚ùå |

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ—Ä–æ–Ω–∫–∏ "Asia Deals"

–°–æ–∑–¥–∞–π—Ç–µ –≤–æ—Ä–æ–Ω–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "Asia Deals" –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏:

| –°—Ç–∞—Ç—É—Å | ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----|----------|----------|
| 1 | 1 | –ù–æ–≤—ã–π –ª–∏–¥ | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç |
| 2 | 2 | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç | –ó–≤–æ–Ω–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ |
| 3 | 3 | –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è | –ü–æ–∫–∞–∑ –æ–±—ä–µ–∫—Ç–æ–≤ |
| 4 | 4 | –í—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ | –ö–ª–∏–µ–Ω—Ç –≤—ã–±—Ä–∞–ª –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å |
| 5 | 5 | –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ | –í–Ω–µ—Å–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞ |
| 6 | 6 | –°–¥–µ–ª–∫–∞ | –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–¥–µ–ª–∫–∏ |
| 7 | 7 | –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –£—Å–ø–µ—à–Ω–∞—è —Å–¥–µ–ª–∫–∞ |

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhooks

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Üí **Webhooks**
2. **–î–æ–±–∞–≤—å—Ç–µ webhook:**
   ```
   URL: http://your-domain.com/api/webhooks/amo
   –°–æ–±—ã—Ç–∏—è:
   - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–æ–≤
   - ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–∏–¥–æ–≤
   - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
   - ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
   ```

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# amoCRM Configuration
AMOCRM_CLIENT_ID=your_client_id_here
AMOCRM_CLIENT_SECRET=your_client_secret_here
AMOCRM_REDIRECT_URI=http://localhost:8000/api/auth/amo/callback
AMOCRM_DOMAIN=your-company.amocrm.ru
AMOCRM_REFRESH_TOKEN=your_refresh_token_here

# Database Configuration
DB_URL=postgresql://asia:asia@db:5432/asia_crm

# Frontend Configuration
FRONTEND_URL=http://localhost:3000
```

### –®–∞–≥ 7: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ —Å Docker
docker-compose up -d

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload
```

### –®–∞–≥ 8: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ amoCRM

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:** `http://localhost:8000/api/auth/amo`
2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ amoCRM**
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ refresh token** –∏–∑ callback URL
4. **–î–æ–±–∞–≤—å—Ç–µ –≤ .env —Ñ–∞–π–ª**

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python scripts/test_amocrm_integration.py
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```bash
curl -X GET http://localhost:8000/api/auth/amo/status
```

#### 2. –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
curl -X GET http://localhost:8000/api/auth/amo/test
```

#### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ª–∏–¥–∞
```bash
curl -X POST http://localhost:8000/api/leads/ \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤",
    "phone": "+79001234567",
    "email": "test@example.com",
    "utm_source": "google",
    "utm_medium": "cpc",
    "utm_campaign": "asia_deals_test"
  }'
```

#### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–∏–¥–æ–≤
```bash
curl -X GET http://localhost:8000/api/leads/
```

#### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ª–∏–¥–∞
```bash
curl -X PUT http://localhost:8000/api/leads/1/status?status=contacted
```

## üìä API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /api/auth/amo` - –ù–∞—á–∞–ª–æ OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `GET /api/auth/amo/callback` - Callback –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- `GET /api/auth/amo/status` - –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `POST /api/auth/amo/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `POST /api/auth/amo/revoke` - –û—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–æ–≤
- `GET /api/auth/amo/test` - –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –õ–∏–¥—ã
- `POST /api/leads/` - –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞
- `GET /api/leads/` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–∏–¥–æ–≤
- `GET /api/leads/{id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–¥–∞ –ø–æ ID
- `PUT /api/leads/{id}/status` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ª–∏–¥–∞
- `GET /api/leads/{id}/amo` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–∏–¥–µ –∏–∑ amoCRM

### Webhooks
- `POST /api/webhooks/amo` - –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook –æ—Ç amoCRM
- `GET /api/webhooks/amo/test` - –¢–µ—Å—Ç webhook endpoint

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ webhook

Webhook –æ—Ç amoCRM –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é HMAC –ø–æ–¥–ø–∏—Å–∏:

```python
def verify_webhook_signature(client_uuid, signature, account_id, client_secret):
    message = f"{client_uuid}|{account_id}"
    expected_signature = hmac.new(
        client_secret.encode('utf-8'),
        message.encode('utf-8'),
        hashlib.sha256
    ).hexdigest()
    return hmac.compare_digest(signature, expected_signature)
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

–¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º:

- Access token –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
- Refresh token —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –°—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. "Invalid client_id"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Client ID –≤ .env —Ñ–∞–π–ª–µ
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Client ID –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è amoCRM

#### 2. "Access token expired"
**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å—Ç–µ–∫ access token
**–†–µ—à–µ–Ω–∏–µ:** –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ refresh token

#### 3. "Field not found"
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –≤ amoCRM
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ ID —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∞–±–ª–∏—Ü–µ –≤—ã—à–µ

#### 4. "Webhook not received"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL webhook –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL webhook –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞

#### 5. "Database connection failed"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `logs/app.log`:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f logs/app.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" logs/app.log
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API amoCRM
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ webhook —Å–æ–±—ã—Ç–∏–π

### Health check

```bash
curl -X GET http://localhost:8000/health
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs backend`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `http://localhost:8000/health`
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API: `/docs`
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ email –≤–æ—Ä–æ–Ω–∫–∏** (SMTP)
2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ WhatsApp API**
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã**
4. **–ü—Ä–æ–≤–µ–¥–∏—Ç–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
5. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω**

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!** üöÄ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ –¥–ª—è –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
