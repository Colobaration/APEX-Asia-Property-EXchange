# üìã –ü—Ä–æ–µ–∫—Ç APEX

## üéØ –û–±–∑–æ—Ä

–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –ø—Ä–æ–µ–∫—Ç—É APEX Asia Property Exchange.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
docs/project/
‚îú‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª - –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ project-structure.md         # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ endpoints.md                 # API endpoints
‚îú‚îÄ‚îÄ crm-fields.md               # CRM –ø–æ–ª—è
‚îî‚îÄ‚îÄ pipelines.md                # –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂
```

## üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É

### **project-structure.md** - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ APEX

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
- ‚úÖ –ú–æ–¥—É–ª–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–î–ª—è –∫–æ–≥–æ:** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã

### **endpoints.md** - API endpoints
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö API endpoints

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ REST API endpoints
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ö–æ–¥—ã –æ—à–∏–±–æ–∫

**–î–ª—è –∫–æ–≥–æ:** Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä—ã

### **crm-fields.md** - CRM –ø–æ–ª—è
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π CRM —Å–∏—Å—Ç–µ–º—ã

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ –ü–æ–ª—è –ª–∏–¥–æ–≤
- ‚úÖ –ü–æ–ª—è —Å–¥–µ–ª–æ–∫
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ —Å AmoCRM

**–î–ª—è –∫–æ–≥–æ:** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### **pipelines.md** - –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ –≠—Ç–∞–ø—ã –≤–æ—Ä–æ–Ω–∫–∏
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ –û—Ç—á–µ—Ç—ã

**–î–ª—è –∫–æ–≥–æ:** –ú–µ–Ω–µ–¥–∂–µ—Ä—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

### **1. Backend (FastAPI)**
```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/           # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ core/          # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ models/        # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas/       # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ integrations/  # –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ tests/             # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ alembic/           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îî‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### **2. Frontend (Next.js)**
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/    # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ pages/         # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks/         # React —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ lib/           # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ types/         # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ public/            # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### **3. Infrastructure**
```
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker Compose
‚îú‚îÄ‚îÄ k8s/                   # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ nginx/                 # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```

## üîó API Endpoints

### **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
```http
POST /api/auth/login
POST /api/auth/register
POST /api/auth/refresh
GET  /api/auth/profile
```

### **–õ–∏–¥—ã**
```http
GET    /api/leads/
POST   /api/leads/
GET    /api/leads/{id}
PUT    /api/leads/{id}
DELETE /api/leads/{id}
```

### **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
```http
GET /api/analytics/dashboard
GET /api/analytics/leads
GET /api/analytics/conversion
GET /api/analytics/revenue
```

### **Webhook'–∏**
```http
POST /api/webhooks/amocrm
POST /api/webhooks/test
GET  /api/webhooks/status
```

## üìä CRM –ü–æ–ª—è

### **–ü–æ–ª—è –ª–∏–¥–æ–≤**
- `name` - –ò–º—è –ª–∏–¥–∞
- `email` - Email –∞–¥—Ä–µ—Å
- `phone` - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `source` - –ò—Å—Ç–æ—á–Ω–∏–∫ –ª–∏–¥–∞
- `status` - –°—Ç–∞—Ç—É—Å –ª–∏–¥–∞
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### **–ü–æ–ª—è —Å–¥–µ–ª–æ–∫**
- `lead_id` - ID –ª–∏–¥–∞
- `amount` - –°—É–º–º–∞ —Å–¥–µ–ª–∫–∏
- `currency` - –í–∞–ª—é—Ç–∞
- `stage` - –≠—Ç–∞–ø —Å–¥–µ–ª–∫–∏
- `probability` - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è
- `close_date` - –î–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è

### **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è**
- `utm_source` - UTM –∏—Å—Ç–æ—á–Ω–∏–∫
- `utm_medium` - UTM –∫–∞–Ω–∞–ª
- `utm_campaign` - UTM –∫–∞–º–ø–∞–Ω–∏—è
- `property_type` - –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- `budget` - –ë—é–¥–∂–µ—Ç
- `location` - –õ–æ–∫–∞—Ü–∏—è

## üîÑ –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂

### **–≠—Ç–∞–ø—ã –≤–æ—Ä–æ–Ω–∫–∏**
1. **Lead Generation** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∏–¥–æ–≤
2. **Lead Qualification** - –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏–¥–æ–≤
3. **Proposal** - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
4. **Negotiation** - –ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã
5. **Closing** - –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–¥–µ–ª–∫–∏

### **–ú–µ—Ç—Ä–∏–∫–∏**
- **Conversion Rate** - –ö–æ–Ω–≤–µ—Ä—Å–∏—è –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏
- **Lead Velocity** - –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–∏–¥–æ–≤
- **Sales Cycle** - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–∏–∫–ª–∞ –ø—Ä–æ–¥–∞–∂
- **Win Rate** - –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

### **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–æ–≤ –∏–∑ —Ñ–æ—Ä–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ª–∏–¥–∞—Ö
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
- –û—Ç–ø—Ä–∞–≤–∫–∞ follow-up —Å–æ–æ–±—â–µ–Ω–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### **–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞**
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone <repository>
cd APEX-Asia-Property-EXchange

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev
```

### **–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º**
- **Frontend:** http://localhost:3000
- **Backend API:** http://localhost:8000
- **API Docs:** http://localhost:8000/docs
- **Metabase:** http://localhost:3001

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_URL=postgresql://asia:asia@db:5432/asia_crm

# AmoCRM
AMOCRM_CLIENT_ID=your_client_id
AMOCRM_CLIENT_SECRET=your_client_secret
AMOCRM_DOMAIN=your_domain.amocrm.ru

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECRET_KEY=your_secret_key
JWT_SECRET=your_jwt_secret
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
make test

# Backend —Ç–µ—Å—Ç—ã
make test-backend

# Frontend —Ç–µ—Å—Ç—ã
make test-frontend

# E2E —Ç–µ—Å—Ç—ã
make test-e2e
```

### **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**
```bash
# Backend coverage
cd backend && pytest --cov=app --cov-report=html

# Frontend coverage
cd frontend && npm run test:coverage
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **Health Checks**
```bash
# Backend
curl http://localhost:8000/health

# Frontend
curl http://localhost:3000/

# Database
docker-compose exec db pg_isready -U asia
```

### **–õ–æ–≥–∏**
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –¢–æ–ª—å–∫–æ backend
docker-compose logs -f backend

# –§–∏–ª—å—Ç—Ä –ø–æ –æ—à–∏–±–∫–∞–º
docker-compose logs backend | grep ERROR
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
- JWT —Ç–æ–∫–µ–Ω—ã
- OAuth2 –¥–ª—è AmoCRM
- Session management
- Password hashing

### **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- Role-based access control (RBAC)
- Permission-based access
- API key authentication
- Rate limiting

### **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**
- HTTPS –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- SQL injection protection
- XSS protection

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- Load balancer –¥–ª—è API
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- Redis cluster
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

### **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üîó –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](../architecture/README.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [CI/CD –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../cicd/README.md) - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](../setup/README.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](../integrations/README.md) - –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](../quickstart/README.md) - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:

1. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–ü—Ä–æ–µ–∫—Ç APEX –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üéâ**
